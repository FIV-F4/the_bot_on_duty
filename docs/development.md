# Руководство по разработке

## Начало работы

1. **Установка зависимостей**
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # для Linux/Mac
   .venv\Scripts\activate     # для Windows
   pip install -r requirements.txt
   ```

2. **Настройка окружения**
   - Создать `.env` файл на основе `.env.example`
   - Заполнить необходимые переменные окружения

## Структура проекта

Проект следует принципам Clean Architecture. Подробное описание в [architecture.md](architecture.md).

## Стиль кода

1. **Python**
   - Следовать PEP 8
   - Использовать типизацию
   - Документировать публичные интерфейсы

2. **Именование**
   - Классы: CamelCase
   - Функции и переменные: snake_case
   - Константы: UPPER_CASE

3. **Импорты**
   ```python
   # Стандартная библиотека
   import os
   import sys
   
   # Сторонние библиотеки
   import aiogram
   from jira import JIRA
   
   # Локальные модули
   from domain.entities import Ticket
   from application.use_cases import CreateTicketUseCase
   ```

## Тестирование

1. **Unit-тесты**
   - Тестировать domain и application слои
   - Использовать моки для внешних зависимостей
   - Следовать AAA (Arrange-Act-Assert)

2. **Integration-тесты**
   - Тестировать infrastructure слой
   - Использовать тестовые конфигурации
   - Очищать данные после тестов

3. **E2E тесты**
   - Тестировать ботов
   - Использовать тестовые аккаунты
   - Проверять основные сценарии

## Git workflow

1. **Ветки**
   - `main` - продакшн
   - `develop` - разработка
   - `feature/*` - новые функции
   - `bugfix/*` - исправления

2. **Коммиты**
   - Следовать Conventional Commits
   - Писать понятные сообщения
   - Разделять изменения логически

3. **PR/MR**
   - Описывать изменения
   - Добавлять тесты
   - Проходить код-ревью

## Деплой

1. **Подготовка**
   - Обновить версию
   - Обновить документацию
   - Запустить тесты

2. **Процесс**
   - Создать тег
   - Запустить CI/CD
   - Проверить деплой

## Мониторинг

1. **Логи**
   - Использовать структурированное логирование
   - Настроить ротацию логов
   - Мониторить ошибки

2. **Метрики**
   - Отслеживать производительность
   - Мониторить использование ресурсов
   - Анализировать ошибки

## Безопасность

1. **Конфигурация**
   - Не хранить секреты в коде
   - Использовать переменные окружения
   - Регулярно обновлять зависимости

2. **Доступ**
   - Минимальные права
   - Аудит действий
   - Защита API

## Документация

1. **Код**
   - Docstrings для публичных интерфейсов
   - Комментарии для сложной логики
   - Типизация для лучшей документации

2. **Проект**
   - README.md
   - Архитектурная документация
   - API документация

3. **Обновление**
   - Поддерживать актуальность
   - Регулярно проверять
   - Обновлять при изменениях 